-- One Hit KO Punch Script
local tool = Instance.new("Tool")
tool.Name = "One Hit KO Punch"
tool.RequiresHandle = true

local handle = Instance.new("Part")
handle.Size = Vector3.new(1, 1, 1)
handle.Anchored = false
handle.CanCollide = false
handle.BrickColor = BrickColor.new("Bright red")
handle.Name = "Handle"
handle.Parent = tool

-- When the player clicks the punch tool, it will deal damage instantly to the opponent
tool.Activated:Connect(function()
    -- Get the player's character and mouse position
    local player = game.Players.LocalPlayer
    local character = player.Character
    if character and character:FindFirstChild("HumanoidRootPart") then
        local mouse = player:GetMouse()
        local target = mouse.Target
        
        -- Check if the target is another player's character and is not the player themself
        if target and target.Parent and target.Parent:FindFirstChild("Humanoid") and target.Parent ~= character then
            local humanoid = target.Parent:FindFirstChild("Humanoid")
            if humanoid then
                -- Kill the target by setting their health to 0
                humanoid.Health = 0
            end
        end
    end
end)

-- Give the tool to the player when they spawn
game.Players.PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function(character)
        tool:Clone().Parent = character
    end)
end)
